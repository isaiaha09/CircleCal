{% extends "calendar_app/base.html" %}
{% block title %}Privacy Policy{% endblock %}

{# Mobile-only: break out of base <main> constraints; keep normal base layout on sm+ #}
{% block main_class %}w-full max-w-none px-0 py-0 sm:max-w-4xl sm:mx-auto sm:px-4 sm:py-8 md:px-6 md:py-10{% endblock %}

{% block content %}
<div class="w-[95vw] mx-auto mt-8 bg-white border rounded-lg shadow-sm p-6 md:p-8 text-left sm:w-full sm:mt-0">
    <h1 class="text-3xl md:text-4xl font-bold text-blue-600 mb-2 text-center sm:text-left">Privacy Policy</h1>
    <p class="text-sm text-gray-600 mb-6 text-center sm:text-left">Effective date: February 1, 2026</p>

    <div class="space-y-6 text-gray-800">
        <section>
            <h2 class="text-xl font-semibold mb-2">1. Overview</h2>
            <p>This Privacy Policy explains how CircleCal (“CircleCal”, “we”, “us”) collects, uses, and shares information when you use our website and scheduling platform (the “Service”).</p>
        </section>

        <section>
            <h2 class="text-xl font-semibold mb-2">2. Information We Collect</h2>
            <ul class="list-disc pl-6 space-y-2">
                <li><strong>Account information:</strong> username, email address, and your name (if provided).</li>
                <li><strong>Profile information:</strong> optional display name, timezone, notification preferences, and profile photo/avatar (if you upload one).</li>
                <li><strong>Organization information:</strong> business name, slug, staff roles/memberships, services, availability/scheduling configuration, and related settings (including optional custom domain and embed settings if enabled).</li>
                <li><strong>Booking information:</strong> appointment details (time, service, assigned staff/team/resource). If provided by the business or customer, this may include customer/client name and email address.</li>
                <li><strong>Billing information:</strong> subscription billing is processed by Stripe. CircleCal stores and uses limited billing metadata such as Stripe customer/subscription identifiers, invoice identifiers, plan status, and non-sensitive payment method metadata (e.g., brand and last4). CircleCal does not store full card numbers.</li>
                <li><strong>Client payment tracking (if enabled by a business):</strong> payment method selection (e.g., offline vs Stripe), payment status, and Stripe Checkout session identifiers associated with a booking.</li>
                <li><strong>Push notifications (mobile app):</strong> if you enable notifications, we collect and store your Expo push token, device platform (iOS/Android), and last-seen timestamp so we can deliver notifications you request.</li>
                <li><strong>Authentication and session data:</strong> security-related cookies and/or server-side session data used to keep you signed in and protect the Service (for example, session identifiers and CSRF/security tokens).</li>
                <li><strong>Invites and account links:</strong> if you invite staff/managers or use certain sign-in flows, we may generate temporary tokens and store related metadata (such as the invited email address and token status) to complete the invitation or authentication flow.</li>
                <li><strong>Technical and security information:</strong> IP address, browser/app user agent, and logs needed to operate, debug, and secure the Service (including login activity, fraud/abuse prevention, and rate-limiting). These logs may include request metadata such as timestamps, request paths, and limited request parameters associated with failed login attempts or abuse prevention events. We aim to avoid storing sensitive values (such as passwords) in these logs.</li>
                <li><strong>Audit and administrative records:</strong> to support security and troubleshooting (and certain admin features like undo/restore), we may retain audit logs and snapshots of changes made to records (for example, booking history events and administrative actions).</li>
            </ul>
        </section>

        <section>
            <h2 class="text-xl font-semibold mb-2">3. Cookies</h2>
            <p>CircleCal uses <strong>essential cookies</strong> and similar technologies required to operate the Service, such as keeping you signed in (session cookies), CSRF/security protections, and remembering app-mode display settings. We do not currently use advertising cookies.</p>
        </section>

        <section>
            <h2 class="text-xl font-semibold mb-2">4. How We Use Information</h2>
            <p>We use information to:</p>
            <ul class="list-disc pl-6 space-y-2">
                <li>Provide, maintain, and secure the Service.</li>
                <li>Process billing and manage subscriptions for business owners.</li>
                <li>Send important account or service-related communications (e.g., password reset, booking confirmations where enabled).</li>
                <li>Monitor and prevent fraud, abuse, and security incidents.</li>
                <li>Comply with legal obligations.</li>
            </ul>
        </section>

        <section>
            <h2 class="text-xl font-semibold mb-2">5. How We Share Information</h2>
            <p>We may share information in the following ways:</p>
            <ul class="list-disc pl-6 space-y-2">
                <li><strong>Service providers:</strong> with vendors who help us run the Service (for example, payment processing via Stripe, push delivery via Expo, bot protection via Cloudflare Turnstile, hosting, storage for uploaded media, and email delivery), subject to contractual protections.</li>
                <li><strong>Within an organization:</strong> business owners may grant access to staff or managers; those users can access business data according to their role.</li>
                <li><strong>Legal and safety:</strong> if required by law or to protect rights, safety, and security.</li>
                <li><strong>Business transfers:</strong> if we are involved in a merger, acquisition, or sale of assets.</li>
            </ul>
        </section>

        <section>
            <h2 class="text-xl font-semibold mb-2">6. Data Retention</h2>
            <p>We retain information for as long as needed to provide the Service and for legitimate business purposes such as security, dispute resolution, troubleshooting, restoring data, and compliance. Businesses may also retain booking records for their own operational needs.</p>
            <p class="mt-2">Even after you delete or change information, we may retain certain information for a limited period in backups, security logs, and audit records, as permitted by law.</p>
        </section>

        <section>
            <h2 class="text-xl font-semibold mb-2">7. Security</h2>
            <p>We use reasonable administrative, technical, and organizational measures designed to protect information. No security measures are perfect, and we cannot guarantee absolute security.</p>
        </section>

        <section>
            <h2 class="text-xl font-semibold mb-2">8. Your Choices and Rights</h2>
            <p>You may be able to access, update, or delete certain information through your account settings. You may also request access, correction, or deletion of your information by contacting us. If you are a customer/client booking with a business that uses CircleCal, your request may need to be directed to that business as well.</p>
            <p class="mt-2">If you are a California resident, you may have additional rights under California privacy laws (such as the CCPA/CPRA), subject to applicable exceptions.</p>
        </section>

        <section>
            <h2 class="text-xl font-semibold mb-2">9. Changes to This Policy</h2>
            <p>We may update this Privacy Policy from time to time. If we make material changes, we will update the effective date and may provide additional notice.</p>
        </section>

        <section>
            <h2 class="text-xl font-semibold mb-2">10. Contact</h2>
            <p>If you have questions about this Privacy Policy, please use our <a class="text-blue-600 hover:underline" href="{% url 'calendar_app:contact' %}">contact form</a>.</p>
        </section>
    </div>
</div>
{% endblock %}
