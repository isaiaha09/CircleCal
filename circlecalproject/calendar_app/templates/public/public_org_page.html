{% extends "calendar_app/base.html" %}
{% load static %}

{% block title %}{{ org.name }} â€“ Book Online{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto py-8">
  <h1 class="text-3xl font-bold text-gray-900 mb-2">{{ org.name }}</h1>
  <p class="text-gray-600 mb-8">
    Choose a service to see available times and book online.
  </p>

  {% if services %}
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      {% for service in services %}
        <div class="bg-white border border-gray-200 rounded-lg p-6 shadow-sm hover:shadow-md transition">
          <h2 class="text-xl font-semibold text-gray-900 mb-2">{{ service.name }}</h2>
          <p class="text-gray-600 text-sm mb-4">
            {{ service.description|default:"No description provided." }}
          </p>
          <div class="text-sm text-gray-700 mb-4">
            <div class="flex justify-between mb-1">
              <span class="font-medium">Duration:</span>
              <span>{{ service.duration }} min</span>
            </div>
            {% if service.price %}
            <div class="flex justify-between">
              <span class="font-medium">Price:</span>
              <span>${{ service.price }}</span>
            </div>
            {% endif %}
          </div>
          <a href="{% url 'bookings:public_service_page' org.slug service.slug %}"
             class="inline-block w-full text-center bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">
            View availability
          </a>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="bg-white border border-gray-200 rounded-lg p-8 text-center">
      <p class="text-gray-600">No services are available for online booking yet.</p>
    </div>
  {% endif %}
</div>
{% endblock %}
