{% extends "calendar_app/base.html" %}
{% block title %}Confirm Delete{% endblock %}
{% block main_class %}w-full max-w-none px-0 py-0{% endblock %}
{% block content %}
<div class="w-[95vw] mx-auto py-8 px-0 sm:max-w-2xl sm:w-full sm:px-4">
  <h1 class="text-2xl font-bold text-blue-700 mb-4 text-center sm:text-left">Delete Account</h1>
  <div class="bg-white border border-blue-100 rounded-xl p-6 shadow-sm">
    <p class="mb-4">Deleting your account will permanently remove your account and all associated data. This action cannot be undone.</p>

    {% if deletable_items %}
    <div class="mb-4">
      <h3 class="text-lg font-semibold text-gray-800 mb-2">What will be permanently removed</h3>
      <ul class="list-disc list-inside text-gray-700">
        {% for desc, count in deletable_items %}
          <li>
            <span class="font-medium">{{ desc }}</span>
            {% if count is not None %}
              â€” <span class="text-sm text-gray-600">{{ count }} item{{ count|pluralize }}</span>
            {% endif %}
          </li>
        {% endfor %}
      </ul>
    </div>
    {% endif %}
    <form method="post" action="{% url 'accounts:delete_account' %}">
      {% csrf_token %}
      <label class="block text-sm font-semibold text-blue-800 mb-2">Confirm your password</label>
      <input type="password" name="password" required placeholder="Enter your password" class="w-full px-3 py-2 rounded border border-gray-300 mb-3" />
      <div class="flex gap-3">
        <button type="submit" class="bg-red-600 text-white px-4 py-2 rounded">Delete account</button>
        <a href="{% url 'accounts:profile' %}" class="px-4 py-2 rounded border">Cancel</a>
      </div>
    </form>
  </div>
</div>
{% endblock %}
